---

title: "Git Set Go"
author: 
  - Siddhi Jadhav
  - Sanch Anand
  - Thi Lan Anh Tran
date: today
format: 
  pdf:
    toc: true
    toc-depth: 2
    number-sections: true
    fig-cap-location: bottom
    df-print: kable
    keep-tex: true
editor: visual
---

# Cleaning the data 

```{r}
#| message: false
#| warning: false
#| echo: false
library(tidyverse)
library(ggplot2)
```

```{r}
# Load the dataset
data <- read.csv("data/weatherAUS.csv")
```

```{r}
# 1. Drop high-missing columns
data <- data %>%
  select(-Evaporation, -Sunshine, -Cloud9am, -Cloud3pm)
```

```{r}
# 2. Convert 'Date' to Date type
data <- data %>%
  mutate(Date = ymd(Date))
```

```{r}
# 3. Drop rows where 'RainTomorrow' is missing
data <- data %>%
  filter(!is.na(RainTomorrow))
```


```{r}
# 4. Drop wind direction columns
data <- data %>%
  select(-WindGustDir, -WindDir9am, -WindDir3pm)

# 5. Convert RainToday and RainTomorrow to binary 0/1
data <- data %>%
  mutate(
    RainToday = if_else(RainToday == "Yes", 1, 0),
    RainTomorrow = if_else(RainTomorrow == "Yes", 1, 0)
  )

# 6. Drop any remaining NAs
data <- data %>% drop_na()
```

```{r}
# 7. Save cleaned data
write_csv(data, "data/data_cleaned.csv")
```



# Methodology

The dataset used for this analysis, weatherAUS.csv, contains over 120,000 daily weather observations recorded across various Australian cities. To ensure data quality and usability, we cleaned the dataset by removing columns with a high number of missing values, such as Evaporation and Sunshine, and imputing the remaining missing values using the median for numerical variables. Categorical variables were imputed using the mode, where necessary. Wind direction columns were excluded due to their limited relevance to the city-level comparative focus. The resulting cleaned dataset, consisting of 16 variables, enabled us to conduct meaningful comparisons of weather characteristics across regions.

The analysis focused on four primary variables: **Rainfall**, **Temperature at 3pm**, **Humidity at 3pm**, and **Pressure at 9am** chosen to represent precipitation, thermal patterns, atmospheric moisture, and pressure systems respectively. The data was grouped by `Location`, enabling city-wise summary statistics and comparisons. To ensure consistency and reduce noise, we focused on cities with the highest number of observations.

To visualize precipitation differences across cities, we generated a bar plot of the ten cities with the highest average daily rainfall (@fig-rainfall-bar). This figure highlights distinct tropical patterns, especially in Darwin and Cairns. To complement the visual insight, a detailed summary of weather metrics including temperature, humidity, and pressure for these top 10 wettest cities is presented in @tbl-summary-top10.

All analysis was conducted using the `tidyverse` and `ggplot2` packages in R, structured within a reproducible Quarto project. GitHub was used to manage version control and collaboration, with each contributor working in individual branches.


```{r}
#| label: fig-rainfall-bar
#| fig-cap: "Top 10 cities by average daily rainfall (mm)"

top_rainfall <- data %>%
  group_by(Location) %>%
  summarise(avg_rain = mean(Rainfall, na.rm = TRUE)) %>%
  arrange(desc(avg_rain)) %>%
  slice_head(n = 10)

ggplot(top_rainfall, aes(x = reorder(Location, avg_rain), y = avg_rain)) +
  geom_col(fill = "burlywood3") +
  coord_flip() +
  labs(x = "City", y = "Average Rainfall (mm)")
```

```{r}
#| label: tbl-summary-top10
#| tbl-cap: "Summary of key weather variables in top 10 wettest cities"
top_cities <- top_rainfall$Location

data %>%
  filter(Location %in% top_cities) %>%
  group_by(Location) %>%
  summarise(
    `Avg Rainfall` = round(mean(Rainfall), 1),
    `Avg Temp (3pm)` = round(mean(Temp3pm), 1),
    `Avg Humidity (3pm)` = round(mean(Humidity3pm), 1),
    `Avg Pressure (9am)` = round(mean(Pressure9am), 1)
  ) %>%
  knitr::kable()
```

